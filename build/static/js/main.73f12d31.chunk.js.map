{"version":3,"sources":["components/dashboard/Dashboard.js","actions/types.js","actions/alert.js","reducers/alert.js","reducers/auth.js","reducers/index.js","utils/setAuthToken.js","store.js","utils/api.js","actions/auth.js","components/auth/Register.js","components/auth/Login.js","components/layout/NotFound.js","components/routing/Routes.js","components/layout/Alert.js","App.js","index.js"],"names":["connect","state","web3Modal","Web3Modal","network","cacheProvider","providerOptions","React","useState","provider","setProvider","setWeb3","connectWallet","a","_provider","_web3","Web3","className","onClick","style","minHeight","map","item","index","SET_ALERT","REMOVE_ALERT","REGISTER_SUCCESS","USER_LOADED","AUTH_ERROR","LOGIN_SUCCESS","LOGOUT","ACCOUNT_DELETED","setAlert","msg","alertType","timeout","dispatch","id","uuidv4","type","payload","setTimeout","initialState","alertReducer","action","filter","alert","token","localStorage","getItem","isAuthenticated","loading","user","authReducer","combineReducers","auth","setAuthToken","api","defaults","headers","common","setItem","removeItem","middleware","thunk","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","currentState","getState","subscribe","previousState","axios","create","baseURL","interceptors","response","use","res","err","status","Promise","reject","loadUser","get","data","register","formData","post","errors","forEach","error","name","email","password","password2","setFormData","onChange","e","target","value","onSubmit","preventDefault","to","placeholder","login","body","required","minLength","NotFound","Routes","props","exact","path","component","Dashboard","Register","Login","alerts","useEffect","NotificationManager","info","success","warning","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.73f12d31.chunk.js","sourcesContent":["import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport Web3 from \"web3\"\r\nimport Web3Modal from \"web3modal\"\r\n\r\nconst Dashboard = () => {\r\n\r\n  const providerOptions = {\r\n    /* See Provider Options Section */\r\n  };\r\n\r\n  const web3Modal = new Web3Modal({\r\n    network: \"mainnet\", // optional\r\n    cacheProvider: true, // optional\r\n    providerOptions // required\r\n  });\r\n\r\n  const [provider, setProvider] = React.useState(null)\r\n  const [web3, setWeb3] = React.useState(null)\r\n\r\n  const connectWallet = async () => {\r\n    const _provider = await web3Modal.connect()\r\n    const _web3 = new Web3(provider)\r\n    setProvider(_provider)\r\n    setWeb3(_web3)\r\n  }\r\n\r\n  return (\r\n    <div className='customer-dashboard bg-black text-white'>\r\n      <div className='container'>\r\n        <div className='row pt-5'>\r\n          <div className='col-md-12'>\r\n            <div className='text-right mb-3'>\r\n              <button\r\n                className='btn btn-primary rounded-pill'\r\n                onClick={() => connectWallet()}\r\n              >\r\n                Connect Wallet\r\n              </button>\r\n            </div>\r\n          </div>\r\n          <div className='col-md-6'>\r\n            <div className='box-shadow rounded-lg p-3 m-3' style={{ minHeight: '280px' }}>\r\n              <div className='h2 text-center'>Mint Your Node NFT</div>\r\n              <div className='text-center text-primary'>Current Node Generation: 1</div>\r\n              <div className='text-center'>\r\n                <i className=\"fa fa-minus h3 mr-3 font-weight-lighter cursor-pointer\"></i>\r\n                <span>\r\n                  <span className='h1 font-weight-bolder'>2/</span>\r\n                  <span className='h3'>50</span>\r\n                </span>\r\n                <i className=\"fa fa-plus h3 ml-3 font-weight-lighter cursor-pointer\"></i>\r\n              </div>\r\n              <div className='text-center'>\r\n                <span className='text-primary'>Price: </span>\r\n                <span className='text-white'>400</span>\r\n                <span className='text-primary'> STACK</span>\r\n              </div>\r\n              <div className='row mb-3'>\r\n                <div className='col-md-6 text-center mt-3'>\r\n                  <button className='btn btn-primary rounded-pill'>Mint with STACK</button>\r\n                  <div className='mt-2 small'>\r\n                    <span className='text-primary'>Wallet Balance: </span>\r\n                    <span className='text-white'>2000 STACK</span>\r\n                  </div>\r\n                </div>\r\n                <div className='col-md-6 text-center mt-3'>\r\n                  <button className='btn btn-primary rounded-pill'>Mint with staked STACK</button>\r\n                  <div className='mt-2 small'>\r\n                    <span className='text-primary'>Staked for lottery: </span>\r\n                    <span className='text-white'>2000 STACK</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className='col-md-6'>\r\n            <div className='box-shadow rounded-lg p-3 m-3' style={{ minHeight: '280px' }}>\r\n              <div className='h2 text-center'>Node NFT Lottery</div>\r\n              <div className='text-center text-primary'>Stake your STACK to get more lottery tickets</div>\r\n              <div className='text-center mt-3'>\r\n                <span className='h1 font-weight-bolder border-bottom'>2000</span>\r\n                <span className='h3'> stack</span>\r\n              </div>\r\n              <div className='text-center mt-4 pt-1'>\r\n                <button className='btn btn-primary rounded-pill'>Stake STACK</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className='row py-5'>\r\n          <div className='col-md-3'></div>\r\n          <div className='col-md-6'>\r\n            <div className='box-shadow rounded-lg p-3 m-3'>\r\n              <div className='h2 text-center'>Auction</div>\r\n              <div className='text-primary text-center mb-3'>Top 20 Bids</div>\r\n              {[1, 2, 3, 4, 5, 6].map((item, index) =>\r\n                <div key={index} className='d-flex justify-content-between py-2 border-bottom border-secondary'>\r\n                  <div className='text-primary'>\r\n                    <span className='mr-3'>{index + 1}</span>\r\n                    <span className='badge rounded-pill bg-primary text-primary font-18 mr-2'>8</span>\r\n                    <span>0x8be3...37e</span>\r\n                  </div>\r\n                  <div className='mr-4'>2000 STACK</div>\r\n                </div>\r\n              )}\r\n              <div className='text-center mt-4'>\r\n                <span className='text-primary'>Place your bid: </span>\r\n                <span className='h3 border-bottom mx-2'>3000</span>\r\n                <span>STACK</span>\r\n              </div>\r\n              <div className='text-center mt-2 pt-1'>\r\n                <button className='btn btn-primary rounded-pill px-4'>Submit</button>\r\n              </div>\r\n              <div className='text-center my-3 px-5'>\r\n                The auction will end at a random time on a random day before DATE\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className='col-md-3'></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n\r\n})\r\n\r\nexport default connect(mapStateToProps, {})(Dashboard)","export const SET_ALERT = 'SET_ALERT'\r\nexport const REMOVE_ALERT = 'REMOVE_ALERT'\r\nexport const REGISTER_SUCCESS = 'REGISTER_SUCCESS'\r\nexport const REGISTER_FAIL = 'REGISTER_FAIL'\r\nexport const USER_LOADED = 'USER_LOADED'\r\nexport const AUTH_ERROR = 'AUTH_ERROR'\r\nexport const LOGIN_SUCCESS = 'LOGIN_SUCCESS'\r\nexport const LOGIN_FAIL = 'LOGIN_FAIL'\r\nexport const LOGOUT = 'LOGOUT'\r\nexport const ACCOUNT_DELETED = 'ACCOUNT_DELETED'","import { v4 as uuidv4 } from 'uuid'\r\nimport { SET_ALERT, REMOVE_ALERT } from './types'\r\n\r\nexport const setAlert = (msg, alertType, timeout = 5000) => dispatch => {\r\n  const id = uuidv4()\r\n  dispatch({\r\n    type: SET_ALERT,\r\n    payload: { msg, alertType, id }\r\n  })\r\n\r\n  setTimeout(() => dispatch({ type: REMOVE_ALERT, payload: id }), timeout)\r\n}\r\n","import { SET_ALERT, REMOVE_ALERT } from '../actions/types'\r\n\r\nconst initialState = []\r\n\r\nfunction alertReducer(state = initialState, action) {\r\n  const { type, payload } = action\r\n\r\n  switch (type) {\r\n    case SET_ALERT:\r\n      return [...state, payload]\r\n    case REMOVE_ALERT:\r\n      return state.filter((alert) => alert.id !== payload)\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default alertReducer\r\n","import {\r\n  REGISTER_SUCCESS,\r\n  //REGISTER_FAIL,\r\n  USER_LOADED,\r\n  AUTH_ERROR,\r\n  LOGIN_SUCCESS,\r\n  //LOGIN_FAIL,\r\n  LOGOUT,\r\n  ACCOUNT_DELETED\r\n} from '../actions/types'\r\n\r\nconst initialState = {\r\n  token: localStorage.getItem('token'),\r\n  isAuthenticated: null,\r\n  loading: true,\r\n  user: null\r\n}\r\n\r\nfunction authReducer(state = initialState, action) {\r\n  const { type, payload } = action\r\n\r\n  switch (type) {\r\n    case USER_LOADED:\r\n      return {\r\n        ...state,\r\n        isAuthenticated: true,\r\n        loading: false,\r\n        user: payload\r\n      }\r\n    case REGISTER_SUCCESS:\r\n    case LOGIN_SUCCESS:\r\n      return {\r\n        ...state,\r\n        ...payload,\r\n        isAuthenticated: true,\r\n        loading: false\r\n      }\r\n    case ACCOUNT_DELETED:\r\n      return {\r\n        ...state,\r\n        token: null,\r\n        isAuthenticated: false,\r\n        loading: false,\r\n        user: null\r\n      }\r\n    case AUTH_ERROR:\r\n    case LOGOUT:\r\n      return {\r\n        ...state,\r\n        token: null,\r\n        isAuthenticated: false,\r\n        loading: false,\r\n        user: null\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default authReducer\r\n","import { combineReducers } from 'redux'\r\nimport alert from './alert'\r\nimport auth from './auth'\r\n\r\nexport default combineReducers({\r\n  alert,\r\n  auth,\r\n})\r\n","import api from './api'\r\n\r\nconst setAuthToken = token => {\r\n  if (token) {\r\n    api.defaults.headers.common['x-auth-token'] = token\r\n    localStorage.setItem('token', token)\r\n  } else {\r\n    delete api.defaults.headers.common['x-auth-token']\r\n    localStorage.removeItem('token')\r\n  }\r\n}\r\n\r\nexport default setAuthToken\r\n","import { createStore, applyMiddleware } from 'redux';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport thunk from 'redux-thunk';\r\nimport rootReducer from './reducers';\r\nimport setAuthToken from './utils/setAuthToken';\r\n\r\nconst initialState = {};\r\n\r\nconst middleware = [thunk];\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  initialState,\r\n  composeWithDevTools(applyMiddleware(...middleware))\r\n);\r\n\r\n// set up a store subscription listener\r\n// to store the users token in localStorage\r\n\r\n// initialize current state from redux store for subscription comparison\r\n// preventing undefined error\r\nlet currentState = store.getState();\r\n\r\nstore.subscribe(() => {\r\n  // keep track of the previous and current state to compare changes\r\n  let previousState = currentState;\r\n  currentState = store.getState();\r\n  // if the token changes set the value in localStorage and axios headers\r\n  if (previousState.auth.token !== currentState.auth.token) {\r\n    const token = currentState.auth.token;\r\n    setAuthToken(token);\r\n  }\r\n});\r\n\r\nexport default store;\r\n","import axios from 'axios'\r\nimport store from '../store'\r\nimport { LOGOUT } from '../actions/types'\r\n\r\nconst api = axios.create({\r\n  baseURL: '/api',\r\n  headers: {\r\n    'Content-Type': 'application/json'\r\n  }\r\n})\r\n/**\r\n intercept any error responses from the api\r\n and check if the token is no longer valid.\r\n ie. Token has expired or user is no longer\r\n authenticated.\r\n logout the user if the token has expired\r\n**/\r\n\r\napi.interceptors.response.use(\r\n  res => res,\r\n  err => {\r\n    if (err.response.status === 401) {\r\n      store.dispatch({ type: LOGOUT })\r\n    }\r\n    return Promise.reject(err)\r\n  }\r\n)\r\n\r\nexport default api\r\n","import api from '../utils/api'\r\nimport { setAlert } from './alert'\r\nimport {\r\n  REGISTER_SUCCESS,\r\n  REGISTER_FAIL,\r\n  USER_LOADED,\r\n  AUTH_ERROR,\r\n  LOGIN_SUCCESS,\r\n  LOGIN_FAIL,\r\n  LOGOUT\r\n} from './types'\r\n\r\n// Load User\r\nexport const loadUser = () => async dispatch => {\r\n  try {\r\n    const res = await api.get('/auth')\r\n\r\n    dispatch({\r\n      type: USER_LOADED,\r\n      payload: res.data\r\n    })\r\n  } catch (err) {\r\n    dispatch({\r\n      type: AUTH_ERROR\r\n    })\r\n  }\r\n}\r\n\r\n// Register User\r\nexport const register = formData => async dispatch => {\r\n  try {\r\n    const res = await api.post('/users', formData)\r\n\r\n    dispatch({\r\n      type: REGISTER_SUCCESS,\r\n      payload: res.data\r\n    })\r\n    dispatch(loadUser())\r\n  } catch (err) {\r\n    const errors = err.response.data.errors\r\n\r\n    if (errors) {\r\n      errors.forEach(error => dispatch(setAlert(error.msg, 'danger')))\r\n    }\r\n\r\n    dispatch({\r\n      type: REGISTER_FAIL\r\n    })\r\n  }\r\n}\r\n\r\n// Login User\r\nexport const login = (email, password) => async dispatch => {\r\n  const body = { email, password }\r\n\r\n  try {\r\n    const res = await api.post('/auth', body)\r\n\r\n    dispatch({\r\n      type: LOGIN_SUCCESS,\r\n      payload: res.data\r\n    })\r\n\r\n    dispatch(loadUser())\r\n  } catch (err) {\r\n    const errors = err.response.data.errors\r\n\r\n    if (errors) {\r\n      errors.forEach(error => dispatch(setAlert(error.msg, 'danger')))\r\n    }\r\n\r\n    dispatch({\r\n      type: LOGIN_FAIL\r\n    })\r\n  }\r\n}\r\n\r\n// Logout\r\nexport const logout = () => ({ type: LOGOUT })\r\n","import React, { Fragment, useState } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Link, Redirect } from 'react-router-dom'\r\nimport { setAlert } from '../../actions/alert'\r\nimport { register } from '../../actions/auth'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst Register = ({ setAlert, register, isAuthenticated }) => {\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    email: '',\r\n    password: '',\r\n    password2: ''\r\n  })\r\n\r\n  const { name, email, password, password2 } = formData\r\n\r\n  const onChange = (e) =>\r\n    setFormData({ ...formData, [e.target.name]: e.target.value })\r\n\r\n  const onSubmit = async (e) => {\r\n    e.preventDefault()\r\n    if (password !== password2) {\r\n      setAlert('Passwords do not match', 'danger')\r\n    } else {\r\n      register({ name, email, password })\r\n    }\r\n  }\r\n\r\n  if (isAuthenticated) {\r\n    return <Redirect to=\"/dashboard\" />\r\n  }\r\n\r\n  return (\r\n    <Fragment>\r\n      <h1 className=\"large text-primary\">Sign Up</h1>\r\n      <p className=\"lead\">\r\n        <i className=\"fas fa-user\" /> Create Your Account\r\n      </p>\r\n      <form className=\"form\" onSubmit={onSubmit}>\r\n        <div className=\"form-group\">\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Name\"\r\n            name=\"name\"\r\n            value={name}\r\n            onChange={onChange}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <input\r\n            type=\"email\"\r\n            placeholder=\"Email Address\"\r\n            name=\"email\"\r\n            value={email}\r\n            onChange={onChange}\r\n          />\r\n          <small className=\"form-text\">\r\n            This site uses Gravatar so if you want a profile image, use a\r\n            Gravatar email\r\n          </small>\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <input\r\n            type=\"password\"\r\n            placeholder=\"Password\"\r\n            name=\"password\"\r\n            value={password}\r\n            onChange={onChange}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <input\r\n            type=\"password\"\r\n            placeholder=\"Confirm Password\"\r\n            name=\"password2\"\r\n            value={password2}\r\n            onChange={onChange}\r\n          />\r\n        </div>\r\n        <input type=\"submit\" className=\"btn btn-primary\" value=\"Register\" />\r\n      </form>\r\n      <p className=\"my-1\">\r\n        Already have an account? <Link to=\"/login\">Sign In</Link>\r\n      </p>\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nRegister.propTypes = {\r\n  setAlert: PropTypes.func.isRequired,\r\n  register: PropTypes.func.isRequired,\r\n  isAuthenticated: PropTypes.bool\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuthenticated: state.auth.isAuthenticated\r\n})\r\n\r\nexport default connect(mapStateToProps, { setAlert, register })(Register)\r\n","import React, { Fragment, useState } from 'react'\r\nimport { Link, Redirect } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport PropTypes from 'prop-types'\r\nimport { login } from '../../actions/auth'\r\n\r\nconst Login = ({ login, isAuthenticated }) => {\r\n  const [formData, setFormData] = useState({\r\n    email: '',\r\n    password: ''\r\n  })\r\n\r\n  const { email, password } = formData\r\n\r\n  const onChange = e =>\r\n    setFormData({ ...formData, [e.target.name]: e.target.value })\r\n\r\n  const onSubmit = e => {\r\n    e.preventDefault()\r\n    login(email, password)\r\n  }\r\n\r\n  if (isAuthenticated) {\r\n    return <Redirect to=\"/dashboard\" />\r\n  }\r\n\r\n  return (\r\n    <Fragment>\r\n      <h1 className=\"large text-primary\">Sign In</h1>\r\n      <p className=\"lead\">\r\n        <i className=\"fas fa-user\" /> Sign Into Your Account\r\n      </p>\r\n      <form className=\"form\" onSubmit={onSubmit}>\r\n        <div className=\"form-group\">\r\n          <input\r\n            type=\"email\"\r\n            placeholder=\"Email Address\"\r\n            name=\"email\"\r\n            value={email}\r\n            onChange={onChange}\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <input\r\n            type=\"password\"\r\n            placeholder=\"Password\"\r\n            name=\"password\"\r\n            value={password}\r\n            onChange={onChange}\r\n            minLength=\"6\"\r\n          />\r\n        </div>\r\n        <input type=\"submit\" className=\"btn btn-primary\" value=\"Login\" />\r\n      </form>\r\n      <p className=\"my-1\">\r\n        Don't have an account? <Link to=\"/register\">Sign Up</Link>\r\n      </p>\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nLogin.propTypes = {\r\n  login: PropTypes.func.isRequired,\r\n  isAuthenticated: PropTypes.bool\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  isAuthenticated: state.auth.isAuthenticated\r\n})\r\n\r\nexport default connect(mapStateToProps, { login })(Login)\r\n","import React, { Fragment } from 'react'\r\n\r\nconst NotFound = () => {\r\n  return (\r\n    <Fragment>\r\n      <h1 className='x-large text-primary'>\r\n        <i className='fas fa-exclamation-triangle' /> Page Not Found\r\n      </h1>\r\n      <p className='large'>Sorry, this page does not exist</p>\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default NotFound\r\n","import React from 'react'\r\nimport { Route, Switch } from 'react-router-dom'\r\nimport Dashboard from '../dashboard/Dashboard'\r\nimport Register from '../auth/Register'\r\nimport Login from '../auth/Login'\r\nimport NotFound from '../layout/NotFound'\r\n\r\nconst Routes = props => {\r\n  return (\r\n    <>\r\n      <Switch>\r\n        <Route exact path=\"/\" component={Dashboard} />\r\n        <Route exact path=\"/register\" component={Register} />\r\n        <Route exact path=\"/login\" component={Login} />\r\n        <Route component={NotFound} />\r\n      </Switch>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Routes\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { NotificationContainer, NotificationManager } from 'react-notifications'\r\nimport 'react-notifications/lib/notifications.css'\r\n\r\nconst Alert = ({ alerts }) => {\r\n  React.useEffect(() => {\r\n    alerts.forEach(alert => {\r\n      switch (alert.alertType) {\r\n        case 'info':\r\n          NotificationManager.info('Info message', alert.msg, 2000)\r\n          break\r\n        case 'success':\r\n          NotificationManager.success('Success message', alert.msg, 2000)\r\n          break\r\n        case 'warning':\r\n          NotificationManager.warning('Warning message', alert.msg, 2000)\r\n          break\r\n        case 'danger':\r\n          NotificationManager.warning('Warning message', alert.msg, 2000)\r\n          break\r\n        case 'error':\r\n          NotificationManager.error('Error message', alert.msg, 2000)\r\n          break\r\n        default:\r\n          break\r\n      }\r\n    })\r\n  }, [alerts])\r\n\r\n  return (\r\n    <div>\r\n      <NotificationContainer />\r\n    </div>\r\n  )\r\n}\r\n\r\nAlert.propTypes = {\r\n  alerts: PropTypes.array.isRequired\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  alerts: state.alert\r\n})\r\n\r\nexport default connect(mapStateToProps)(Alert)","import React, { Fragment } from 'react'\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom'\r\nimport Dashboard from './components/dashboard/Dashboard'\r\nimport Routes from './components/routing/Routes'\r\nimport Alert from './components/layout/Alert'\r\n\r\n// Redux\r\nimport { Provider } from 'react-redux'\r\nimport store from './store'\r\n\r\nimport './App.css'\r\n\r\nconst App = () => {\r\n  return (\r\n    <Provider store={store}>\r\n      <Router>\r\n        <Fragment>\r\n          <Alert />\r\n          <Switch>\r\n            <Route exact path=\"/\" component={Dashboard} />\r\n            <Route component={Routes} />\r\n          </Switch>\r\n        </Fragment>\r\n      </Router>\r\n    </Provider>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}